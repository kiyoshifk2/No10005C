検討

oscillo.c m.c が PICMX と PICMZ で異なるのを共通にする　→　共通にするとかえって複雑化する（かなり異なるハードだ）

no_of_data に１加算しているのをやめた

オシロのバグは　graph_draw() で LCD_ALL_S と LCD_CS_C 抜けだった

osci_v から s_buf を取り除いて s_buf を auto 変数にして　メモリ節約をやりやすくした

ADC から DMA でデータ転送するとき MZ では 0x10000バイトで終了です、MX では 10000x2バイトで終了にすべき
転送データは一旦　s_buf にリングバッファとして入るから、そこから disp_buf へストレートバッファで転送

disp_buf を配列からポインターに変更した、そうしたら sizeof(disp_buf) が正しく動かない

osci_getbuf_single() にてリングバッファにしてトリガも即時に行っている、スピードを下げずにリングバッファにすべき
データ数は 0x4000 が良いだろう、disp_buf は小さくても良いと思うから buf[]の後ろの方に固定しても良い
disp_buf の最大サイズを調べて buf[] の一番後ろにする、最大サイズは 0x4000データ

Single トリガでは測定開始するとトリガがかかるまでは操作を受け付けない、sw3 で抜けるようにしよう

オシロのデータキャプチャーサイズは 0x4000データだが一部は　0x8000(0x7fff)になっているかもしれない修正せよ

osci_mesure にて sw_read() が一回削除できそうでやり始めたかもしれないからしらべろ

Auto+/Auto- では s_buf がストレートバッファである

拡張メニューのタイトルの　ｻﾕｳ ｽｸﾛｰﾙ  の文字を大きくする

Single で画面上部のメッセージに sw1:trigger となっているが文字数が多すぎる　clr  にする事、sw2:menu とする事  修正

Auto- でトリガがかかると止まるから直せ　→　直した

拡張メニューのあと　サユウスクロール　の文字が消えずに残っているから消すこと

拡張メニューに入るときに sw2 を　２回押す必要が有りそうだ、３〜４回必要なこともある　　　押し続けると画面が止まっているが別の所らしい

Single トリガを sw2 で選択決定したのが残り　拡張メニューを呼び出してしまう　→　単なる勘違い

ｆ特測定で一回測定すると停止しているが繰り返し測定するようにする　　ＯＫ

ｆ特測定は全レンジを見ておくこと　　　　　　　　　　　　　　　　　　ＯＫ

ｆ特測定で　linear  を実行できるかどうかテストする		実行できた

impulse response(M系列内)　を削除する　　　　　　　　　　　　ＯＫ

コメントを sel,set,exit から sw1,sw2,sw3 に変更する事  oscillo.c は変更済み　他のファイルを変更すること    完了







sw_downup() を作りスクリーンショットをこの関数でも出来るようにする

file manager を呼び出すこと　NO_FILESYSTEM になって動作しない

箱入り娘の開始時に盤面を表示して "Push Any sw" を出す


APP_Tasks() は SYS_Tasks() の中で呼ばれているが、これを潰して SYS_Tasks() ではアプリは呼ばない
プログラムは初期化の後 oscillo() を読んでアプリが走る、アプリの中でスイッチ入力待ちで SYS_Tasks() を繰り返し呼び出す
APP_Initialize() は個別の初期化ルーチンを main() で呼び出し無くなった




---------------------------------------------------------------------------------

箱入り娘を遊ぶプログラム作成、従来のプログラムのスピード選択
遊ぶプログラムが出来たら吉川さんに送り異なる初期配置を聞く


---------------------------------------------------------------------------------
2020.4.9 デバッグ開始（新コンフィグレーション）画面が真っ白
IO 初期化は OK だと思う
wait_1ms() を割り込みでなくてループにする　少し乱れた表示が出た
アプリの文字コードを SJIS にしてアプリを再度入れなおした
wait state を増やすがやはりおかしい
クロックを 96MHz から 80MHz にする為 FPLLMUL を MUL_24 から MUL_20 にする
wait_1ms() を割り込み処理に戻すとやはり画面が真っ白け
main() にて割り込み許可にするやはりダメ
wait state を戻す、wait_1ms から wait_1ms_lcd() を使用（lcd 初期化のみ）
CLK_Initialize() 中の PMD* = ....; を潰す　これで動いた　microSD はまだ NG
lcd_init(); の wait は仕様書では 5msx4 だが 25msx4 にした
unmount() して mount() をする、ls コマンドをコピーしてテストプログラムを作る
/dev/mmcblka1 で mount するとファイルシステムが使用できるようになった
ファイルシステムの /dev/sda1 を /dev/mmcblka1 に変更する、これは止めた
スクリーンショットでは microSD に書き込むので、microSD を使用する時に起きた問題点を記述します
Harmony3 で microSD を入れる時 SD Card(SPI) での Chip select pin を RB0 にしたから SD-SS(液晶表示器) に RB0 を配線した、またHarmony configurator の Project Graph の操作では項目を選択する順番を変えると動作が大幅に変わるようだった
Harmony3 で FILE System の設定を MSD にして更に Auto Mount を有効にしたが、アプリケーションソフトにて SYS_FS_Mount() をする必要があった
オシロのデータキャプチャー数が少ないと偽データを表示してしまうことが多いので 16384データをキャプチャーするようにした、このデータ全部（10000データ）を表示した時（低い周波数）は観測した時にモアレが出ずに綺麗に画面がべたに塗りつぶされた表示になる、中間的な周波数を観測すると表示データが 10000データよりも小さくなるからモアレが出ます
oscillo のスクリーンショットが取れない
サユウスクロール中は　sw3 でのみスクリーンショットが取れる（２秒押し）
電源 ON 時にペントミノを表示しておき sw1-3 入力で Main Menu に入る
ペントミノ表示中にもスクリーンショットと sw
sw_downup() でスクリーンショットを取った後は return しないで sw_downup() の先頭に戻る →　やるとまずい
Buzzer を付けたら製品版にはゲームの着手音を必ず入れる事
       ハードは出来たから、あとはブザー音を割り込み処理で鳴らす
       int buzzer_flag;		// 0:normal, 1:短音指定(50ms 1KHz), 2:長音指定(500ms 1KHz)
オセロでコンピュータが打つたびに短音を鳴らす

M系列出力を付ける（又はブログ下書きに現在のプログラムで出す方法を明記する）
